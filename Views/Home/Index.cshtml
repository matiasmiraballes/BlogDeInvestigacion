@using BlogDeInvestigacion.Models
@using BlogDeInvestigacion.ViewModels
@model HomeViewModel
@{
    ViewBag.Title = "Home Page";
}

@section menus {

    @{
        Html.RenderPartial("_SideBarSection", new SeccionMenu
        {
            Titulo = "FILTRAR MURO",
            Opciones = new List<OpcionMenu>
                    {
                        new OpcionMenu { Nombre = "Ver Conversaciones", Tipo = TipoOpcion.Action, Link = "/Home/Index?parametro=" + TipoPublicacion.Conversacion, ClaseIcono = "fa fa-tasks fa-fw mr-3" },
                        new OpcionMenu { Nombre = "Ver Eventos", Tipo = TipoOpcion.Action, Link = "/Home/Index?parametro=" + TipoPublicacion.Evento, ClaseIcono = "fa fa-tasks fa-fw mr-3" },
                        new OpcionMenu { Nombre = "Ver Noticias", Tipo = TipoOpcion.Action, Link = "/Home/Index?parametro=" + TipoPublicacion.Noticia, ClaseIcono = "fa fa-tasks fa-fw mr-3" },
                        new OpcionMenu { Nombre = "Ver Todos", Tipo = TipoOpcion.Action, Link = "/Home/Index?parametro=" + TipoPublicacion.Todos, ClaseIcono = "fa fa-tasks fa-fw mr-3" },
                    }
        });
    }
}

<link href="@Url.Content("/Content/App/Laboratorio/Comentarios.css")" rel="stylesheet" type="text/css" />

<div class="container">
    @foreach (IElementoMuro item in Model.ElementosMuro)
    {
    <div class="container ElementoContainer">

        @if (item.GetTipoDePublicacion() == TipoPublicacion.Conversacion)
        {
            <div class="card gedf-card">
                <div class="card-header">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="mr-2">
                                <img class="rounded-circle" width="45" src="https://picsum.photos/50/50" alt="">
                            </div>
                            <div class="ml-2">
                                <div class="h5 m-0">LABORATORIO: @((item as Conversacion).IdLaboratorio)</div>
                                <div class="h7 text-muted">Miracles Lee Cross</div>
                            </div>
                        </div>
                        <div>
                            <div class="right-corner">
                                @item.GetFechaDePublicacion()
                            </div>
                        </div>
                    </div>

                </div>
                <div class="card-body">
                    @{Html.RenderPartial("~/Views/Shared/_SeccionComentarios.cshtml", new List<Conversacion> { item as Conversacion }); }
                </div>
                <div class="card-footer">
                </div>
            </div>
        }


        @if (item.GetTipoDePublicacion() == TipoPublicacion.Noticia)
        {
            <span class="badge badge-success">Noticia</span>
            <div class="card gedf-card border-success">
                <div class="card-header">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="mr-2">
                                <img class="rounded-circle" width="45" src="https://picsum.photos/50/50" alt="">
                            </div>
                            <div class="ml-2">
                                <div class="h5 m-0">LABORATORIO: @((item as Noticia).IdLaboratorio)</div>
                                <div class="h7 text-muted">Miracles Lee Cross</div>
                            </div>
                        </div>
                        <div>
                            <div class="right-corner">
                                @item.GetFechaDePublicacion().ToString("MM/dd/yyyy HH:mm")
                            </div>
                        </div>
                    </div>

                </div>
                <div class="card-body">
                    <h5>@((item as Noticia).Titulo)</h5>
                    <hr class="my-4">
                    <p class="pb-2 text-primary">@((item as Noticia).Descripcion)</p>
                </div>
                <div class="card-footer">
                </div>
            </div>
        }

        @if (item.GetTipoDePublicacion() == TipoPublicacion.Evento)
        {
            <span class="badge badge-info">Evento</span>
            <div class="card gedf-card border-info">
                <div class="card-header">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="mr-2">
                                <img class="rounded-circle" width="45" src="https://picsum.photos/50/50" alt="">
                            </div>
                            <div class="ml-2">
                                <div class="h5 m-0">LABORATORIO: @((item as Evento).IdLaboratorio)</div>
                                <div class="h7 text-muted">Miracles Lee Cross</div>
                            </div>
                        </div>
                        <div>
                            <div class="right-corner">
                                @item.GetFechaDePublicacion().ToString("MM/dd/yyyy HH:mm")
                            </div>
                        </div>
                    </div>

                </div>
                <div class="card-body">

                    <h5>@((item as Evento).Nombre)</h5>
                    <hr class="my-4">
                    <p class="pb-2 text-primary">@((item as Evento).Descripcion)</p>

                    <span class="float-left"> <span class="text-primary">Desde: </span>@((item as Evento).Inicio.ToString("MM/dd/yyyy HH:mm"))</span>
                    <span class="float-right"><span class="text-primary">Hasta: </span>@((item as Evento).Fin.ToString("MM/dd/yyyy HH:mm"))</span>


                </div>
                <div class="card-footer">
                </div>
            </div>
        }
    </div>
    }
</div>

